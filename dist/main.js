(()=>{"use strict";class t{content=document.querySelector("#content");navbar=document.createElement("div");logo=document.createElement("h3");menuButtonContainer=document.createElement("div");menu=document.createElement("div");home=document.createElement("p");projects=document.createElement("p");constructor(){}loadNav(){this.navbar.classList.add("navbar"),this.logo.classList.add("logo"),this.logo.textContent="Your Logo",this.navbar.append(this.logo),this.content.append(this.navbar)}loadMenu(){this.menu.classList.add("menu"),this.menuButtonContainer.classList.add("nav-button-container"),this.home.classList.add("home","navbutton","button-selected"),this.projects.classList.add("projects","navbutton"),this.home.textContent="Home",this.projects.textContent="Projects",this.menuButtonContainer.append(this.home,this.projects),this.menu.append(this.menuButtonContainer),this.content.append(this.menu)}}class e{content=document.querySelector("#content");mainContentContainer=document.createElement("div");todoscontainer=document.createElement("div");addTodoButton=document.createElement("div");constructor(){}loadMainContent(){this.mainContentContainer.classList.add("main-content-container"),this.addTodoButton.classList.add("add-todo-button"),this.todoscontainer.classList.add("todos-container"),this.addTodoButton.textContent="New Todo +",this.mainContentContainer.append(this.addTodoButton,this.todoscontainer),this.content.append(this.mainContentContainer)}loadTodos(t){this.todoscontainer.innerHTML="";for(const n of t){const t=document.createElement("div");t.classList.add("todo-container");const o=document.createElement("h2");o.classList.add("todo-title"),o.textContent=n.title;const a=document.createElement("p");a.classList.add("todo-description"),a.textContent=n.description;const d=document.createElement("p");d.classList.add("todo-date"),d.innerHTML=`<span class="due-date-label">Due Date: </span> ${n.dueDate.slice(5,7)}/${n.dueDate.slice(8,11)}/${n.dueDate.slice(0,4)}`;const i=document.createElement("p");i.classList.add("todo-time"),i.innerHTML='<span class="due-time-label">Time Due: </span>'+(0==+(e=n.time).slice(0,2)?`${+e.slice(0,2)+12}:${e.slice(3,5)} AM`:+e.slice(0,2)<12?e+" AM":12==+e.slice(0,2)?`${e.slice(0,2)}:${e.slice(3,5)} PM`:`${+e.slice(0,2)-12}:${e.slice(3,5)} PM`),t.append(o,a,d,i),this.todoscontainer.append(t)}var e}}class n{constructor(t,e,n,o){this.title=t,this.description=e,this.dueDate=n,this.time=o}}const o=new class{content=document.querySelector("#content");constructor(){this.navMenu=new t,this.mainContent=new e}dimBackground(){this.navMenu.menu.style.filter="brightness(50%)",this.navMenu.navbar.style.filter="brightness(50%)",this.mainContent.mainContentContainer.style.filter="brightness(50%)"}unDimBackground(){this.navMenu.menu.removeAttribute("style"),this.navMenu.navbar.removeAttribute("style"),this.mainContent.mainContentContainer.removeAttribute("style")}},a=new class{content=document.querySelector("#content");modalContainer=document.createElement("div");modalHeader=document.createElement("h2");modalForm=document.createElement("form");constructor(){this.modalContainer.classList.add("new-todo-container","hidden"),this.modalContainer.append(this.modalHeader,this.modalForm),this.content.append(this.modalContainer)}toggleModalVisibility(){this.modalContainer.classList.toggle("hidden")}openModal(t){t.stopPropagation(),this.toggleModalVisibility()}closeModal(t){let e=t.target,n=!0;for(;e&&"BODY"!==e.nodeName;){if(e.classList.contains("new-todo-container")){n=!1;break}e=e.parentNode}return n&&!this.modalContainer.classList.contains("hidden")&&this.modalContainer.classList.toggle("hidden"),n}loadModalContent(){this.modalForm.innerHTML="",this.modalHeader.textContent="New To Do";const t=document.createElement("div"),e=document.createElement("input"),n=document.createElement("label");e.setAttribute("name","todoname"),e.setAttribute("id","todoname"),n.setAttribute("for","todoname"),n.textContent="Title",t.classList.add("todo-name-container"),t.append(n,e);const o=document.createElement("div"),a=document.createElement("textarea"),d=document.createElement("label");a.setAttribute("name","tododescription"),a.setAttribute("id","tododescription"),d.setAttribute("for","tododescription"),d.textContent="Description",o.classList.add("todo-description-container"),o.append(d,a);const i=document.createElement("div"),s=document.createElement("input"),c=document.createElement("label"),r=function(){const t=new Date,e=t.getFullYear(),n=t.getDate();let o=t.getMonth()+1;return o.toString.length<2&&(o="0"+o),{year:e,month:o,day:n}}();s.setAttribute("type","date"),s.setAttribute("name","tododate"),s.setAttribute("id","tododate"),s.setAttribute("min",`${r.year}-${r.month}-${r.day}`),c.setAttribute("for","tododate"),c.textContent="Due Date",i.classList.add("todo-date-container"),i.append(c,s);const l=document.createElement("div"),m=document.createElement("input"),u=document.createElement("label");m.setAttribute("type","time"),m.setAttribute("name","todotime"),m.setAttribute("id","todotime"),u.setAttribute("for","todotime"),u.textContent="Time Due",l.classList.add("todo-date-container"),l.append(u,m);const h=document.createElement("button");h.classList.add("submit-todo-button"),h.textContent="Add ToDo",this.modalForm.append(t,o,i,l,h)}},d=[];o.navMenu.loadNav(),o.navMenu.loadMenu(),o.mainContent.loadMainContent(),document.querySelector(".add-todo-button").addEventListener("click",(t=>{a.modalContainer.classList.contains("hidden")&&(a.openModal(t),a.loadModalContent(),o.dimBackground(),document.querySelector(".submit-todo-button").addEventListener("click",(t=>{t.preventDefault();const e=document.querySelector("#todoname").value,a=document.querySelector("#tododescription").value,i=document.querySelector("#tododate").value,s=document.querySelector("#todotime").value,c=new n(e,a,i,s);d.push(c),o.mainContent.loadTodos(d),console.log(d)})))})),window.addEventListener("click",(t=>{a.closeModal(t)&&o.unDimBackground()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUIsRUFBY0UsWUFBWWxCLGtCQUVKckIsU0FBU0MsY0FBYyxvQkFHL0J3RixpQkFBaUIsU0FBVXJDLElBQ2pDUCxFQUFVQyxlQUFlbEMsVUFBVStDLFNBQVMsWUFDNUNkLEVBQVVNLFVBQVVDLEdBQ3BCUCxFQUFVZ0IsbUJBQ1Z4QixFQUFjRyxnQkFpQk94QyxTQUFTQyxjQUFjLHVCQUMvQndGLGlCQUFpQixTQUFVckMsSUFDeENBLEVBQUVzQyxpQkFDRixNQUFNL0QsRUFBWTNCLFNBQVNDLGNBQWMsYUFBYTBGLE1BQ2hEOUQsRUFBa0I3QixTQUFTQyxjQUFjLG9CQUFvQjBGLE1BQzdENUQsRUFBVy9CLFNBQVNDLGNBQWMsYUFBYTBGLE1BQy9DekQsRUFBV2xDLFNBQVNDLGNBQWMsYUFBYTBGLE1BQy9DbEUsRUFBTyxJQUFJVyxFQUFLVCxFQUFXRSxFQUFpQkUsRUFBVUcsR0FDNURzRCxFQUFVSSxLQUFLbkUsR0FDZlksRUFBY0UsWUFBWWpCLFVBQVVrRSxHQUNwQ0ssUUFBUUMsSUFBSU4sRUFBUyxJQXpCekIsSUFLSk8sT0FBT04saUJBQWlCLFNBQVVyQyxJQUNmUCxFQUFVUyxXQUFXRixJQUN4QmYsRUFBY00saUJBQWlCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qtb2RpbnByb2plY3QvLi9zcmMvbG9hZGhvbWUuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0LW9kaW5wcm9qZWN0Ly4vc3JjL3Rhc2tzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC1vZGlucHJvamVjdC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qtb2RpbnByb2plY3QvLi9zcmMvdG9kb21vZGFsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIExhbmRpbmdQYWdlIHtcbiAgICBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRlbnQnKTtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMubmF2TWVudSA9IG5ldyBOYXZpZ2F0aW9uO1xuICAgICAgICB0aGlzLm1haW5Db250ZW50ID0gbmV3IE1haW5Db250ZW50O1xuICAgIH1cblxuICAgIGRpbUJhY2tncm91bmQgKCkge1xuICAgICAgICB0aGlzLm5hdk1lbnUubWVudS5zdHlsZS5maWx0ZXIgPSAnYnJpZ2h0bmVzcyg1MCUpJztcbiAgICAgICAgdGhpcy5uYXZNZW51Lm5hdmJhci5zdHlsZS5maWx0ZXIgPSAnYnJpZ2h0bmVzcyg1MCUpJztcbiAgICAgICAgdGhpcy5tYWluQ29udGVudC5tYWluQ29udGVudENvbnRhaW5lci5zdHlsZS5maWx0ZXIgPSAnYnJpZ2h0bmVzcyg1MCUpJztcbiAgICB9XG5cbiAgICB1bkRpbUJhY2tncm91bmQgKCkge1xuICAgICAgICB0aGlzLm5hdk1lbnUubWVudS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIHRoaXMubmF2TWVudS5uYXZiYXIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB0aGlzLm1haW5Db250ZW50Lm1haW5Db250ZW50Q29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICB9XG5cbn1cblxuXG5jbGFzcyBOYXZpZ2F0aW9uIHtcbiAgICBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRlbnQnKTtcbiAgICBuYXZiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2dvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBtZW51QnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhvbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgcHJvamVjdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3RydWN0b3IgKCkge1xuXG4gICAgfVxuXG4gICAgbG9hZE5hdiAoKSB7XG4gICAgICAgIHRoaXMubmF2YmFyLmNsYXNzTGlzdC5hZGQoJ25hdmJhcicpO1xuICAgICAgICB0aGlzLmxvZ28uY2xhc3NMaXN0LmFkZCgnbG9nbycpO1xuICAgICAgICB0aGlzLmxvZ28udGV4dENvbnRlbnQgPSAnWW91ciBMb2dvJztcbiAgICAgICAgdGhpcy5uYXZiYXIuYXBwZW5kKHRoaXMubG9nbyk7XG4gICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5uYXZiYXIpO1xuXG4gICAgfVxuXG4gICAgbG9hZE1lbnUgKCkge1xuICAgICAgICB0aGlzLm1lbnUuY2xhc3NMaXN0LmFkZCgnbWVudScpO1xuICAgICAgICB0aGlzLm1lbnVCdXR0b25Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnbmF2LWJ1dHRvbi1jb250YWluZXInKTtcbiAgICAgICAgdGhpcy5ob21lLmNsYXNzTGlzdC5hZGQoJ2hvbWUnLCAnbmF2YnV0dG9uJywgJ2J1dHRvbi1zZWxlY3RlZCcpO1xuICAgICAgICB0aGlzLnByb2plY3RzLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzJywgJ25hdmJ1dHRvbicpO1xuXG4gICAgICAgIHRoaXMuaG9tZS50ZXh0Q29udGVudCA9ICdIb21lJztcbiAgICAgICAgdGhpcy5wcm9qZWN0cy50ZXh0Q29udGVudCA9ICdQcm9qZWN0cyc7XG5cbiAgICAgICAgdGhpcy5tZW51QnV0dG9uQ29udGFpbmVyLmFwcGVuZCh0aGlzLmhvbWUsIHRoaXMucHJvamVjdHMpXG4gICAgICAgIHRoaXMubWVudS5hcHBlbmQodGhpcy5tZW51QnV0dG9uQ29udGFpbmVyKVxuICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKHRoaXMubWVudSk7XG4gICAgfVxuXG5cbn1cblxuY2xhc3MgTWFpbkNvbnRlbnQge1xuICAgIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpO1xuICAgIG1haW5Db250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdG9kb3Njb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhZGRUb2RvQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3RydWN0b3IgKCkge1xuXG4gICAgfVxuXG4gICAgbG9hZE1haW5Db250ZW50ICgpIHtcbiAgICAgICAgdGhpcy5tYWluQ29udGVudENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYWluLWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMuYWRkVG9kb0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdhZGQtdG9kby1idXR0b24nKTtcbiAgICAgICAgdGhpcy50b2Rvc2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0b2Rvcy1jb250YWluZXInKTtcbiAgICAgICAgdGhpcy5hZGRUb2RvQnV0dG9uLnRleHRDb250ZW50ID0gJ05ldyBUb2RvICsnXG5cbiAgICAgICAgdGhpcy5tYWluQ29udGVudENvbnRhaW5lci5hcHBlbmQodGhpcy5hZGRUb2RvQnV0dG9uLCB0aGlzLnRvZG9zY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZCh0aGlzLm1haW5Db250ZW50Q29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBsb2FkVG9kb3MgKGFycikge1xuICAgICAgICB0aGlzLnRvZG9zY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBmb3IoY29uc3QgdG9kbyBvZiBhcnIpe1xuICAgICAgICAgICAgY29uc3QgdG9kb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdG9kb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0b2RvLWNvbnRhaW5lcicpO1xuXG4gICAgICAgICAgICAvL3RpdGxlXG4gICAgICAgICAgICBjb25zdCB0b2RvVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgICAgICAgICAgdG9kb1RpdGxlLmNsYXNzTGlzdC5hZGQoJ3RvZG8tdGl0bGUnKTtcbiAgICAgICAgICAgIHRvZG9UaXRsZS50ZXh0Q29udGVudCA9IHRvZG8udGl0bGU7XG5cbiAgICAgICAgICAgIC8vZGVzY3JpcHRpb25cbiAgICAgICAgICAgIGNvbnN0IHRvZG9EZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIHRvZG9EZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKCd0b2RvLWRlc2NyaXB0aW9uJyk7XG4gICAgICAgICAgICB0b2RvRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0b2RvLmRlc2NyaXB0aW9uO1xuXG4gICAgICAgICAgICAvL2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICBjb25zdCB0b2RvRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIHRvZG9EYXRlLmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGF0ZScpO1xuICAgICAgICAgICAgdG9kb0RhdGUuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiZHVlLWRhdGUtbGFiZWxcIj5EdWUgRGF0ZTogPC9zcGFuPiAke3RvZG8uZHVlRGF0ZS5zbGljZSg1LCA3KX0vJHt0b2RvLmR1ZURhdGUuc2xpY2UoOCwgMTEpfS8ke3RvZG8uZHVlRGF0ZS5zbGljZSgwLCA0KX1gO1xuXG4gICAgICAgICAgICAvL2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICBjb25zdCB0b2RvVGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIHRvZG9UaW1lLmNsYXNzTGlzdC5hZGQoJ3RvZG8tdGltZScpO1xuICAgICAgICAgICAgdG9kb1RpbWUuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiZHVlLXRpbWUtbGFiZWxcIj5UaW1lIER1ZTogPC9zcGFuPiR7Zm9ybWF0VGltZSh0b2RvLnRpbWUpfWA7XG5cblxuICAgICAgICAgICAgdG9kb0NvbnRhaW5lci5hcHBlbmQodG9kb1RpdGxlLCB0b2RvRGVzY3JpcHRpb24sIHRvZG9EYXRlLCB0b2RvVGltZSk7XG4gICAgICAgICAgICB0aGlzLnRvZG9zY29udGFpbmVyLmFwcGVuZCh0b2RvQ29udGFpbmVyKTtcblxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lICh0aW1lKXtcbiAgICBpZiAoK3RpbWUuc2xpY2UoMCwgMikgPT09IDApIHJldHVybiAoYCR7K3RpbWUuc2xpY2UoMCwgMikgKyAxMn06JHt0aW1lLnNsaWNlKDMsIDUpfSBBTWApO1xuICAgIGVsc2UgaWYoK3RpbWUuc2xpY2UoMCwgMikgPCAxMikgcmV0dXJuICh0aW1lKz0gJyBBTScpO1xuICAgIGVsc2UgaWYoK3RpbWUuc2xpY2UoMCwgMikgPT09IDEyKSByZXR1cm4gKGAke3RpbWUuc2xpY2UoMCwgMil9OiR7dGltZS5zbGljZSgzLCA1KX0gUE1gKTtcbiAgICBlbHNlIHJldHVybiAoYCR7K3RpbWUuc2xpY2UoMCwgMikgLSAxMn06JHt0aW1lLnNsaWNlKDMsIDUpfSBQTWApO1xufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvRG8ge1xuICAgIGNvbnN0cnVjdG9yICh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHRpbWUpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgfVxufSIsImltcG9ydCB7IGRlZmF1bHQgYXMgTGFuZGluZ1BhZ2UgfSBmcm9tIFwiLi9sb2FkaG9tZS5qc1wiO1xuaW1wb3J0IFRvRG8gZnJvbSBcIi4vdGFza3MuanNcIjtcbmltcG9ydCBUb0RvTW9kYWwgZnJvbSBcIi4vdG9kb21vZGFsLmpzXCI7XG5cbmNvbnN0IGxhbmRpbmdMb2FkZXIgPSBuZXcgTGFuZGluZ1BhZ2UoKTtcbmNvbnN0IHRvZG9tb2RhbCA9IG5ldyBUb0RvTW9kYWwoKTtcbmNvbnN0IHRvZG9zTGlzdCA9IFtdO1xubGFuZGluZ0xvYWRlci5uYXZNZW51LmxvYWROYXYoKTtcbmxhbmRpbmdMb2FkZXIubmF2TWVudS5sb2FkTWVudSgpO1xubGFuZGluZ0xvYWRlci5tYWluQ29udGVudC5sb2FkTWFpbkNvbnRlbnQoKTtcblxuY29uc3QgbmV3VG9kb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG9kby1idXR0b24nKTtcblxuLy9vcGVucyB0aGUgYWRkIG5ldyB0b2RvIG1vZGFsXG5uZXdUb2RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAodG9kb21vZGFsLm1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgdG9kb21vZGFsLm9wZW5Nb2RhbChlKTtcbiAgICAgICAgdG9kb21vZGFsLmxvYWRNb2RhbENvbnRlbnQoKTtcbiAgICAgICAgbGFuZGluZ0xvYWRlci5kaW1CYWNrZ3JvdW5kKCk7XG4gICAgICAgIGFkZFRvZG9Ub0xpc3QoKTtcbiAgICB9XG59KTtcblxuXG4vL2Nsb3NlcyBhZGQgbmV3IHRvZG8gbW9kYWxcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgY2xvc2VkID0gdG9kb21vZGFsLmNsb3NlTW9kYWwoZSk7XG4gICAgaWYgKGNsb3NlZCkgbGFuZGluZ0xvYWRlci51bkRpbUJhY2tncm91bmQoKTtcblxufSlcblxuXG5cblxuZnVuY3Rpb24gYWRkVG9kb1RvTGlzdCgpIHtcbiAgICBjb25zdCBzdWJtaXRUb2RvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1Ym1pdC10b2RvLWJ1dHRvbicpO1xuICAgIHN1Ym1pdFRvZG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2RvbmFtZScpLnZhbHVlO1xuICAgICAgICBjb25zdCB0b2RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9kb2Rlc2NyaXB0aW9uJykudmFsdWU7XG4gICAgICAgIGNvbnN0IHRvZG9EYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG9kYXRlJykudmFsdWU7XG4gICAgICAgIGNvbnN0IHRvZG9UaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG90aW1lJykudmFsdWU7XG4gICAgICAgIGNvbnN0IHRvZG8gPSBuZXcgVG9Ebyh0b2RvVGl0bGUsIHRvZG9EZXNjcmlwdGlvbiwgdG9kb0RhdGUsIHRvZG9UaW1lKTtcbiAgICAgICAgdG9kb3NMaXN0LnB1c2godG9kbyk7XG4gICAgICAgIGxhbmRpbmdMb2FkZXIubWFpbkNvbnRlbnQubG9hZFRvZG9zKHRvZG9zTGlzdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRvZG9zTGlzdClcbiAgICB9KVxuXG59XG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvRG9Nb2RhbCB7XG4gICAgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50Jyk7XG4gICAgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgbW9kYWxGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5tb2RhbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduZXctdG9kby1jb250YWluZXInLCAnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMubW9kYWxDb250YWluZXIuYXBwZW5kKHRoaXMubW9kYWxIZWFkZXIsIHRoaXMubW9kYWxGb3JtKTtcbiAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZCh0aGlzLm1vZGFsQ29udGFpbmVyKTtcblxuICAgIH1cblxuICAgIHRvZ2dsZU1vZGFsVmlzaWJpbGl0eSAoKSB7XG4gICAgICAgIHRoaXMubW9kYWxDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgb3Blbk1vZGFsKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy50b2dnbGVNb2RhbFZpc2liaWxpdHkoKTtcbiAgICB9XG5cbiAgICBjbG9zZU1vZGFsKGUpIHtcbiAgICAgICAgbGV0IHJldmlld05vZGUgPSBlLnRhcmdldDtcbiAgICAgICAgbGV0IGV4aXRGb3JtID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKHJldmlld05vZGUgJiYgcmV2aWV3Tm9kZS5ub2RlTmFtZSAhPT0gJ0JPRFknKSB7XG4gICAgICAgICAgaWYgKHJldmlld05vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXctdG9kby1jb250YWluZXInKSkge1xuICAgICAgICAgICAgZXhpdEZvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXZpZXdOb2RlID0gcmV2aWV3Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleGl0Rm9ybSAmJiAhdGhpcy5tb2RhbENvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4aXRGb3JtO1xuICAgIH1cblxuICAgIGxvYWRNb2RhbENvbnRlbnQgKCkge1xuICAgICAgICB0aGlzLm1vZGFsRm9ybS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5tb2RhbEhlYWRlci50ZXh0Q29udGVudCA9ICdOZXcgVG8gRG8nO1xuXG4gICAgICAgIC8vdGl0bGVcbiAgICAgICAgY29uc3QgbmFtZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCB0YXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IHRhc2tOYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICB0YXNrTmFtZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndG9kb25hbWUnKTtcbiAgICAgICAgdGFza05hbWUuc2V0QXR0cmlidXRlKCdpZCcsICd0b2RvbmFtZScpO1xuICAgICAgICB0YXNrTmFtZUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3RvZG9uYW1lJyk7XG4gICAgICAgIHRhc2tOYW1lTGFiZWwudGV4dENvbnRlbnQgPSAnVGl0bGUnO1xuXG4gICAgICAgIG5hbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9kby1uYW1lLWNvbnRhaW5lcicpO1xuICAgICAgICBuYW1lQ29udGFpbmVyLmFwcGVuZCh0YXNrTmFtZUxhYmVsLCB0YXNrTmFtZSk7XG5cbiAgICAgICAgLy9EZXNjcmlwdGlvblxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndG9kb2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RvZG9kZXNjcmlwdGlvbicpO1xuICAgICAgICB0YXNrRGVzY3JpcHRpb25MYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICd0b2RvZGVzY3JpcHRpb24nKTtcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uTGFiZWwudGV4dENvbnRlbnQgPSAnRGVzY3JpcHRpb24nO1xuXG4gICAgICAgIGRlc2NyaXB0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGVzY3JpcHRpb24tY29udGFpbmVyJyk7XG4gICAgICAgIGRlc2NyaXB0aW9uQ29udGFpbmVyLmFwcGVuZCh0YXNrRGVzY3JpcHRpb25MYWJlbCwgdGFza0Rlc2NyaXB0aW9uKTtcblxuICAgICAgICAvL2RhdGVcbiAgICAgICAgY29uc3QgZGF0ZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCB0YXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IHRhc2tEYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGdldEN1cnJlbnREYXRlKCk7XG4gICAgICAgIHRhc2tEYXRlLnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJylcbiAgICAgICAgdGFza0RhdGUuc2V0QXR0cmlidXRlKCduYW1lJywgJ3RvZG9kYXRlJyk7XG4gICAgICAgIHRhc2tEYXRlLnNldEF0dHJpYnV0ZSgnaWQnLCAndG9kb2RhdGUnKTtcbiAgICAgICAgdGFza0RhdGUuc2V0QXR0cmlidXRlKCdtaW4nLCBgJHtjdXJyZW50RGF0ZS55ZWFyfS0ke2N1cnJlbnREYXRlLm1vbnRofS0ke2N1cnJlbnREYXRlLmRheX1gKVxuICAgICAgICB0YXNrRGF0ZUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3RvZG9kYXRlJyk7XG4gICAgICAgIHRhc2tEYXRlTGFiZWwudGV4dENvbnRlbnQgPSAnRHVlIERhdGUnO1xuXG4gICAgICAgIGRhdGVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9kby1kYXRlLWNvbnRhaW5lcicpO1xuICAgICAgICBkYXRlQ29udGFpbmVyLmFwcGVuZCh0YXNrRGF0ZUxhYmVsLCB0YXNrRGF0ZSk7XG5cbiAgICAgICAgLy90aW1lXG4gICAgICAgIGNvbnN0IHRpbWVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgdGFza1RpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjb25zdCB0YXNrVGltZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgdGFza1RpbWUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RpbWUnKVxuICAgICAgICB0YXNrVGltZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndG9kb3RpbWUnKTtcbiAgICAgICAgdGFza1RpbWUuc2V0QXR0cmlidXRlKCdpZCcsICd0b2RvdGltZScpO1xuICAgICAgICB0YXNrVGltZUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3RvZG90aW1lJyk7XG4gICAgICAgIHRhc2tUaW1lTGFiZWwudGV4dENvbnRlbnQgPSAnVGltZSBEdWUnO1xuXG4gICAgICAgIHRpbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9kby1kYXRlLWNvbnRhaW5lcicpO1xuICAgICAgICB0aW1lQ29udGFpbmVyLmFwcGVuZCh0YXNrVGltZUxhYmVsLCB0YXNrVGltZSk7XG5cblxuICAgICAgICAvL2FkZHRvZG8gYnV0dG9uXG4gICAgICAgIGNvbnN0IHRvZG9TdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdG9kb1N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzdWJtaXQtdG9kby1idXR0b24nKVxuICAgICAgICB0b2RvU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0FkZCBUb0RvJztcblxuXG5cbiAgICAgICAgdGhpcy5tb2RhbEZvcm0uYXBwZW5kKG5hbWVDb250YWluZXIsIGRlc2NyaXB0aW9uQ29udGFpbmVyLCBkYXRlQ29udGFpbmVyLCB0aW1lQ29udGFpbmVyLCB0b2RvU3VibWl0QnV0dG9uKTtcblxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudERhdGUgKCkge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBpZihtb250aC50b1N0cmluZy5sZW5ndGggPCAyKSBtb250aCA9ICcwJyArIG1vbnRoO1xuICAgIHJldHVybiB7eWVhciwgbW9udGgsIGRheX1cbn0iXSwibmFtZXMiOlsiTmF2aWdhdGlvbiIsImNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZiYXIiLCJjcmVhdGVFbGVtZW50IiwibG9nbyIsIm1lbnVCdXR0b25Db250YWluZXIiLCJtZW51IiwiaG9tZSIsInByb2plY3RzIiwiY29uc3RydWN0b3IiLCJsb2FkTmF2IiwidGhpcyIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiYXBwZW5kIiwibG9hZE1lbnUiLCJNYWluQ29udGVudCIsIm1haW5Db250ZW50Q29udGFpbmVyIiwidG9kb3Njb250YWluZXIiLCJhZGRUb2RvQnV0dG9uIiwibG9hZE1haW5Db250ZW50IiwibG9hZFRvZG9zIiwiYXJyIiwiaW5uZXJIVE1MIiwidG9kbyIsInRvZG9Db250YWluZXIiLCJ0b2RvVGl0bGUiLCJ0aXRsZSIsInRvZG9EZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwidG9kb0RhdGUiLCJkdWVEYXRlIiwic2xpY2UiLCJ0b2RvVGltZSIsInRpbWUiLCJUb0RvIiwibGFuZGluZ0xvYWRlciIsIm5hdk1lbnUiLCJtYWluQ29udGVudCIsImRpbUJhY2tncm91bmQiLCJzdHlsZSIsImZpbHRlciIsInVuRGltQmFja2dyb3VuZCIsInJlbW92ZUF0dHJpYnV0ZSIsInRvZG9tb2RhbCIsIm1vZGFsQ29udGFpbmVyIiwibW9kYWxIZWFkZXIiLCJtb2RhbEZvcm0iLCJ0b2dnbGVNb2RhbFZpc2liaWxpdHkiLCJ0b2dnbGUiLCJvcGVuTW9kYWwiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiY2xvc2VNb2RhbCIsInJldmlld05vZGUiLCJ0YXJnZXQiLCJleGl0Rm9ybSIsIm5vZGVOYW1lIiwiY29udGFpbnMiLCJwYXJlbnROb2RlIiwibG9hZE1vZGFsQ29udGVudCIsIm5hbWVDb250YWluZXIiLCJ0YXNrTmFtZSIsInRhc2tOYW1lTGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJkZXNjcmlwdGlvbkNvbnRhaW5lciIsInRhc2tEZXNjcmlwdGlvbiIsInRhc2tEZXNjcmlwdGlvbkxhYmVsIiwiZGF0ZUNvbnRhaW5lciIsInRhc2tEYXRlIiwidGFza0RhdGVMYWJlbCIsImN1cnJlbnREYXRlIiwiZGF0ZSIsIkRhdGUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJkYXkiLCJnZXREYXRlIiwibW9udGgiLCJnZXRNb250aCIsInRvU3RyaW5nIiwibGVuZ3RoIiwiZ2V0Q3VycmVudERhdGUiLCJ0aW1lQ29udGFpbmVyIiwidGFza1RpbWUiLCJ0YXNrVGltZUxhYmVsIiwidG9kb1N1Ym1pdEJ1dHRvbiIsInRvZG9zTGlzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsInZhbHVlIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJ3aW5kb3ciXSwic291cmNlUm9vdCI6IiJ9