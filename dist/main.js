(()=>{"use strict";class t{content=document.querySelector("#content");navbar=document.createElement("div");logo=document.createElement("h3");menuButtonContainer=document.createElement("div");menu=document.createElement("div");home=document.createElement("p");projects=document.createElement("p");constructor(){}loadNav(){this.navbar.classList.add("navbar"),this.logo.classList.add("logo"),this.logo.textContent="Your Logo",this.navbar.append(this.logo),this.content.append(this.navbar)}loadMenu(){this.menu.classList.add("menu"),this.menuButtonContainer.classList.add("nav-button-container"),this.home.classList.add("home","navbutton","button-selected"),this.projects.classList.add("projects","navbutton"),this.home.textContent="Home",this.projects.textContent="Projects",this.menuButtonContainer.append(this.home,this.projects),this.menu.append(this.menuButtonContainer),this.content.append(this.menu)}}class e{content=document.querySelector("#content");mainContentContainer=document.createElement("div");todoscontainer=document.createElement("div");addTodoButton=document.createElement("div");constructor(){}loadMainContent(){this.mainContentContainer.classList.add("main-content-container"),this.addTodoButton.classList.add("add-todo-button"),this.todoscontainer.classList.add("todos-container"),this.addTodoButton.textContent="New Todo +",this.mainContentContainer.append(this.addTodoButton,this.todoscontainer),this.content.append(this.mainContentContainer)}loadTodos(t){this.todoscontainer.innerHTML="";for(const n of t){const t=document.createElement("div");t.classList.add("todo-container");const o=document.createElement("h2");o.classList.add("todo-title"),o.textContent=n.title;const a=document.createElement("p");a.classList.add("todo-description"),a.textContent=n.description;const d=document.createElement("p");d.classList.add("todo-date"),d.innerHTML=`<span class="due-date-label">Due Date: </span> ${n.dueDate.slice(5,7)}/${n.dueDate.slice(8,11)}/${n.dueDate.slice(0,4)}`;const s=document.createElement("p");s.classList.add("todo-time"),s.innerHTML='<span class="due-time-label">Time Due: </span>'+(0==+(e=n.time).slice(0,2)?`${+e.slice(0,2)+12}:${e.slice(3,5)} AM`:+e.slice(0,2)<12?e+" AM":12==+e.slice(0,2)?`${e.slice(0,2)}:${e.slice(3,5)} PM`:`${+e.slice(0,2)-12}:${e.slice(3,5)} PM`);const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("complete-button"),i.textContent="Not Completed",t.append(o,a,d,s,i),this.todoscontainer.append(t)}var e;this.addCompletionButtonEvent()}addCompletionButtonEvent(){const t=document.querySelectorAll(".complete-button");for(const e of t)e.addEventListener("click",(t=>{e.classList.contains("completed")?(e.classList.remove("completed"),e.textContent="Not Completed",t.target.parentNode.classList.remove("completed")):(e.classList.add("completed"),t.target.parentNode.classList.add("completed"),e.textContent="Completed")}))}}class n{constructor(t,e,n,o){this.title=t,this.description=e,this.dueDate=n,this.time=o}}const o=new class{content=document.querySelector("#content");constructor(){this.navMenu=new t,this.mainContent=new e}dimBackground(){this.navMenu.menu.style.filter="brightness(50%)",this.navMenu.navbar.style.filter="brightness(50%)",this.mainContent.mainContentContainer.style.filter="brightness(50%)"}unDimBackground(){this.navMenu.menu.removeAttribute("style"),this.navMenu.navbar.removeAttribute("style"),this.mainContent.mainContentContainer.removeAttribute("style")}},a=new class{content=document.querySelector("#content");modalContainer=document.createElement("div");modalHeader=document.createElement("h2");modalForm=document.createElement("form");constructor(){this.modalContainer.classList.add("new-todo-container","hidden"),this.modalContainer.append(this.modalHeader,this.modalForm),this.content.append(this.modalContainer)}toggleModalVisibility(){this.modalContainer.classList.toggle("hidden")}openModal(t){t.stopPropagation(),this.toggleModalVisibility()}closeModal(t){let e=t.target,n=!0;if(!t.target.classList.contains("submit-todo-button"))for(;e&&"BODY"!==e.nodeName;){if(e.classList.contains("new-todo-container")){n=!1;break}e=e.parentNode}return n&&!this.modalContainer.classList.contains("hidden")&&this.modalContainer.classList.toggle("hidden"),n}loadModalContent(){this.modalForm.innerHTML="",this.modalHeader.textContent="New To Do";const t=document.createElement("div"),e=document.createElement("input"),n=document.createElement("label");e.setAttribute("name","todoname"),e.setAttribute("id","todoname"),n.setAttribute("for","todoname"),n.textContent="Title",t.classList.add("todo-name-container"),t.append(n,e);const o=document.createElement("div"),a=document.createElement("textarea"),d=document.createElement("label");a.setAttribute("name","tododescription"),a.setAttribute("id","tododescription"),d.setAttribute("for","tododescription"),d.textContent="Description",o.classList.add("todo-description-container"),o.append(d,a);const s=document.createElement("div"),i=document.createElement("input"),c=document.createElement("label"),r=function(){const t=new Date,e=t.getFullYear(),n=t.getDate();let o=t.getMonth()+1;return o.toString.length<2&&(o="0"+o),{year:e,month:o,day:n}}();i.setAttribute("type","date"),i.setAttribute("name","tododate"),i.setAttribute("id","tododate"),i.setAttribute("min",`${r.year}-${r.month}-${r.day}`),c.setAttribute("for","tododate"),c.textContent="Due Date",s.classList.add("todo-date-container"),s.append(c,i);const l=document.createElement("div"),m=document.createElement("input"),u=document.createElement("label");m.setAttribute("type","time"),m.setAttribute("name","todotime"),m.setAttribute("id","todotime"),u.setAttribute("for","todotime"),u.textContent="Time Due",l.classList.add("todo-date-container"),l.append(u,m);const p=document.createElement("button");p.classList.add("submit-todo-button"),p.textContent="Add ToDo",this.modalForm.append(t,o,s,l,p)}},d=[];o.navMenu.loadNav(),o.navMenu.loadMenu(),o.mainContent.loadMainContent(),document.querySelector(".add-todo-button").addEventListener("click",(t=>{a.modalContainer.classList.contains("hidden")&&(a.openModal(t),a.loadModalContent(),o.dimBackground(),document.querySelector(".submit-todo-button").addEventListener("click",(t=>{t.preventDefault();const e=document.querySelector("#todoname").value,s=document.querySelector("#tododescription").value,i=document.querySelector("#tododate").value,c=document.querySelector("#todotime").value,r=new n(e,s,i,c);d.push(r),o.mainContent.loadTodos(d),a.closeModal(t),o.dimBackground()})))})),window.addEventListener("click",(t=>{a.closeModal(t)&&o.unDimBackground()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBY0UsWUFBWTdCLFVBQVV5RSxHQUNwQ3RDLEVBQVVRLFdBQVd0QixHQUNyQk0sRUFBY0csZUFBZSxJQTFCakMsSUFLSitDLE9BQU96RCxpQkFBaUIsU0FBVUMsSUFDZmMsRUFBVVEsV0FBV3RCLElBQ3hCTSxFQUFjTSxpQkFBaUIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC1vZGlucHJvamVjdC8uL3NyYy9sb2FkaG9tZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qtb2RpbnByb2plY3QvLi9zcmMvdGFza3MuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0LW9kaW5wcm9qZWN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC1vZGlucHJvamVjdC8uL3NyYy90b2RvbW9kYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFuZGluZ1BhZ2Uge1xuICAgIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm5hdk1lbnUgPSBuZXcgTmF2aWdhdGlvbjtcbiAgICAgICAgdGhpcy5tYWluQ29udGVudCA9IG5ldyBNYWluQ29udGVudDtcbiAgICB9XG5cbiAgICBkaW1CYWNrZ3JvdW5kKCkge1xuICAgICAgICB0aGlzLm5hdk1lbnUubWVudS5zdHlsZS5maWx0ZXIgPSAnYnJpZ2h0bmVzcyg1MCUpJztcbiAgICAgICAgdGhpcy5uYXZNZW51Lm5hdmJhci5zdHlsZS5maWx0ZXIgPSAnYnJpZ2h0bmVzcyg1MCUpJztcbiAgICAgICAgdGhpcy5tYWluQ29udGVudC5tYWluQ29udGVudENvbnRhaW5lci5zdHlsZS5maWx0ZXIgPSAnYnJpZ2h0bmVzcyg1MCUpJztcbiAgICB9XG5cbiAgICB1bkRpbUJhY2tncm91bmQoKSB7XG4gICAgICAgIHRoaXMubmF2TWVudS5tZW51LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgdGhpcy5uYXZNZW51Lm5hdmJhci5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIHRoaXMubWFpbkNvbnRlbnQubWFpbkNvbnRlbnRDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgIH1cblxufVxuXG5cbmNsYXNzIE5hdmlnYXRpb24ge1xuICAgIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpO1xuICAgIG5hdmJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIG1lbnVCdXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaG9tZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBwcm9qZWN0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cblxuICAgIGxvYWROYXYoKSB7XG4gICAgICAgIHRoaXMubmF2YmFyLmNsYXNzTGlzdC5hZGQoJ25hdmJhcicpO1xuICAgICAgICB0aGlzLmxvZ28uY2xhc3NMaXN0LmFkZCgnbG9nbycpO1xuICAgICAgICB0aGlzLmxvZ28udGV4dENvbnRlbnQgPSAnWW91ciBMb2dvJztcbiAgICAgICAgdGhpcy5uYXZiYXIuYXBwZW5kKHRoaXMubG9nbyk7XG4gICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5uYXZiYXIpO1xuXG4gICAgfVxuXG4gICAgbG9hZE1lbnUoKSB7XG4gICAgICAgIHRoaXMubWVudS5jbGFzc0xpc3QuYWRkKCdtZW51Jyk7XG4gICAgICAgIHRoaXMubWVudUJ1dHRvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduYXYtYnV0dG9uLWNvbnRhaW5lcicpO1xuICAgICAgICB0aGlzLmhvbWUuY2xhc3NMaXN0LmFkZCgnaG9tZScsICduYXZidXR0b24nLCAnYnV0dG9uLXNlbGVjdGVkJyk7XG4gICAgICAgIHRoaXMucHJvamVjdHMuY2xhc3NMaXN0LmFkZCgncHJvamVjdHMnLCAnbmF2YnV0dG9uJyk7XG5cbiAgICAgICAgdGhpcy5ob21lLnRleHRDb250ZW50ID0gJ0hvbWUnO1xuICAgICAgICB0aGlzLnByb2plY3RzLnRleHRDb250ZW50ID0gJ1Byb2plY3RzJztcblxuICAgICAgICB0aGlzLm1lbnVCdXR0b25Db250YWluZXIuYXBwZW5kKHRoaXMuaG9tZSwgdGhpcy5wcm9qZWN0cylcbiAgICAgICAgdGhpcy5tZW51LmFwcGVuZCh0aGlzLm1lbnVCdXR0b25Db250YWluZXIpXG4gICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5tZW51KTtcbiAgICB9XG5cblxufVxuXG5jbGFzcyBNYWluQ29udGVudCB7XG4gICAgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50Jyk7XG4gICAgbWFpbkNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b2Rvc2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGFkZFRvZG9CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cblxuICAgIGxvYWRNYWluQ29udGVudCgpIHtcbiAgICAgICAgdGhpcy5tYWluQ29udGVudENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYWluLWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMuYWRkVG9kb0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdhZGQtdG9kby1idXR0b24nKTtcbiAgICAgICAgdGhpcy50b2Rvc2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0b2Rvcy1jb250YWluZXInKTtcbiAgICAgICAgdGhpcy5hZGRUb2RvQnV0dG9uLnRleHRDb250ZW50ID0gJ05ldyBUb2RvICsnXG5cbiAgICAgICAgdGhpcy5tYWluQ29udGVudENvbnRhaW5lci5hcHBlbmQodGhpcy5hZGRUb2RvQnV0dG9uLCB0aGlzLnRvZG9zY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZCh0aGlzLm1haW5Db250ZW50Q29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBsb2FkVG9kb3MoYXJyKSB7XG4gICAgICAgIHRoaXMudG9kb3Njb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGZvciAoY29uc3QgdG9kbyBvZiBhcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvZG9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRvZG9Db250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9kby1jb250YWluZXInKTtcblxuICAgICAgICAgICAgLy90aXRsZVxuICAgICAgICAgICAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICAgICAgICAgIHRvZG9UaXRsZS5jbGFzc0xpc3QuYWRkKCd0b2RvLXRpdGxlJyk7XG4gICAgICAgICAgICB0b2RvVGl0bGUudGV4dENvbnRlbnQgPSB0b2RvLnRpdGxlO1xuXG4gICAgICAgICAgICAvL2Rlc2NyaXB0aW9uXG4gICAgICAgICAgICBjb25zdCB0b2RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICB0b2RvRGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZCgndG9kby1kZXNjcmlwdGlvbicpO1xuICAgICAgICAgICAgdG9kb0Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdG9kby5kZXNjcmlwdGlvbjtcblxuICAgICAgICAgICAgLy9kZXNjcmlwdGlvblxuICAgICAgICAgICAgY29uc3QgdG9kb0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICB0b2RvRGF0ZS5jbGFzc0xpc3QuYWRkKCd0b2RvLWRhdGUnKTtcbiAgICAgICAgICAgIHRvZG9EYXRlLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cImR1ZS1kYXRlLWxhYmVsXCI+RHVlIERhdGU6IDwvc3Bhbj4gJHt0b2RvLmR1ZURhdGUuc2xpY2UoNSwgNyl9LyR7dG9kby5kdWVEYXRlLnNsaWNlKDgsIDExKX0vJHt0b2RvLmR1ZURhdGUuc2xpY2UoMCwgNCl9YDtcblxuICAgICAgICAgICAgLy9kZXNjcmlwdGlvblxuICAgICAgICAgICAgY29uc3QgdG9kb1RpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICB0b2RvVGltZS5jbGFzc0xpc3QuYWRkKCd0b2RvLXRpbWUnKTtcbiAgICAgICAgICAgIHRvZG9UaW1lLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cImR1ZS10aW1lLWxhYmVsXCI+VGltZSBEdWU6IDwvc3Bhbj4ke2Zvcm1hdFRpbWUodG9kby50aW1lKX1gO1xuXG4gICAgICAgICAgICAvL2NvbXBsZXRpb24gYnV0dG9uXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIGNvbXBsZXRlZC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJylcbiAgICAgICAgICAgIGNvbXBsZXRlZC5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZS1idXR0b24nKTtcbiAgICAgICAgICAgIGNvbXBsZXRlZC50ZXh0Q29udGVudCA9ICdOb3QgQ29tcGxldGVkJztcblxuXG4gICAgICAgICAgICB0b2RvQ29udGFpbmVyLmFwcGVuZCh0b2RvVGl0bGUsIHRvZG9EZXNjcmlwdGlvbiwgdG9kb0RhdGUsIHRvZG9UaW1lLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgdGhpcy50b2Rvc2NvbnRhaW5lci5hcHBlbmQodG9kb0NvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRDb21wbGV0aW9uQnV0dG9uRXZlbnQoKTtcbiAgICB9XG5cbiAgICBhZGRDb21wbGV0aW9uQnV0dG9uRXZlbnQoKSB7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb25CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29tcGxldGUtYnV0dG9uJyk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGNvbXBsZXRpb25CdXR0b24pIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbXBsZXRlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdjb21wbGV0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ05vdCBDb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnY29tcGxldGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge2J1dHRvbi5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZWQnKVxuICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkJylcbiAgICAgICAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnQ29tcGxldGVkJ307XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lKHRpbWUpIHtcbiAgICBpZiAoK3RpbWUuc2xpY2UoMCwgMikgPT09IDApIHJldHVybiAoYCR7K3RpbWUuc2xpY2UoMCwgMikgKyAxMn06JHt0aW1lLnNsaWNlKDMsIDUpfSBBTWApO1xuICAgIGVsc2UgaWYgKCt0aW1lLnNsaWNlKDAsIDIpIDwgMTIpIHJldHVybiAodGltZSArPSAnIEFNJyk7XG4gICAgZWxzZSBpZiAoK3RpbWUuc2xpY2UoMCwgMikgPT09IDEyKSByZXR1cm4gKGAke3RpbWUuc2xpY2UoMCwgMil9OiR7dGltZS5zbGljZSgzLCA1KX0gUE1gKTtcbiAgICBlbHNlIHJldHVybiAoYCR7K3RpbWUuc2xpY2UoMCwgMikgLSAxMn06JHt0aW1lLnNsaWNlKDMsIDUpfSBQTWApO1xufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvRG8ge1xuICAgIGNvbnN0cnVjdG9yICh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHRpbWUpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgfVxufSIsImltcG9ydCB7IGRlZmF1bHQgYXMgTGFuZGluZ1BhZ2UgfSBmcm9tIFwiLi9sb2FkaG9tZS5qc1wiO1xuaW1wb3J0IFRvRG8gZnJvbSBcIi4vdGFza3MuanNcIjtcbmltcG9ydCBUb0RvTW9kYWwgZnJvbSBcIi4vdG9kb21vZGFsLmpzXCI7XG5cbmNvbnN0IGxhbmRpbmdMb2FkZXIgPSBuZXcgTGFuZGluZ1BhZ2UoKTtcbmNvbnN0IHRvZG9tb2RhbCA9IG5ldyBUb0RvTW9kYWwoKTtcbmNvbnN0IHRvZG9zTGlzdCA9IFtdO1xubGFuZGluZ0xvYWRlci5uYXZNZW51LmxvYWROYXYoKTtcbmxhbmRpbmdMb2FkZXIubmF2TWVudS5sb2FkTWVudSgpO1xubGFuZGluZ0xvYWRlci5tYWluQ29udGVudC5sb2FkTWFpbkNvbnRlbnQoKTtcblxuY29uc3QgbmV3VG9kb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG9kby1idXR0b24nKTtcblxuLy9vcGVucyB0aGUgYWRkIG5ldyB0b2RvIG1vZGFsXG5uZXdUb2RvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAodG9kb21vZGFsLm1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgdG9kb21vZGFsLm9wZW5Nb2RhbChlKTtcbiAgICAgICAgdG9kb21vZGFsLmxvYWRNb2RhbENvbnRlbnQoKTtcbiAgICAgICAgbGFuZGluZ0xvYWRlci5kaW1CYWNrZ3JvdW5kKCk7XG4gICAgICAgIGFkZFRvZG9Ub0xpc3QoKTtcbiAgICB9XG59KTtcblxuXG4vL2Nsb3NlcyBhZGQgbmV3IHRvZG8gbW9kYWxcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgY2xvc2VkID0gdG9kb21vZGFsLmNsb3NlTW9kYWwoZSk7XG4gICAgaWYgKGNsb3NlZCkgbGFuZGluZ0xvYWRlci51bkRpbUJhY2tncm91bmQoKTtcblxufSlcblxuXG5cblxuZnVuY3Rpb24gYWRkVG9kb1RvTGlzdCgpIHtcbiAgICBjb25zdCBzdWJtaXRUb2RvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1Ym1pdC10b2RvLWJ1dHRvbicpO1xuICAgIHN1Ym1pdFRvZG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2RvbmFtZScpLnZhbHVlO1xuICAgICAgICBjb25zdCB0b2RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9kb2Rlc2NyaXB0aW9uJykudmFsdWU7XG4gICAgICAgIGNvbnN0IHRvZG9EYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG9kYXRlJykudmFsdWU7XG4gICAgICAgIGNvbnN0IHRvZG9UaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZG90aW1lJykudmFsdWU7XG4gICAgICAgIGNvbnN0IHRvZG8gPSBuZXcgVG9Ebyh0b2RvVGl0bGUsIHRvZG9EZXNjcmlwdGlvbiwgdG9kb0RhdGUsIHRvZG9UaW1lKTtcbiAgICAgICAgdG9kb3NMaXN0LnB1c2godG9kbyk7XG4gICAgICAgIGxhbmRpbmdMb2FkZXIubWFpbkNvbnRlbnQubG9hZFRvZG9zKHRvZG9zTGlzdCk7XG4gICAgICAgIHRvZG9tb2RhbC5jbG9zZU1vZGFsKGUpO1xuICAgICAgICBsYW5kaW5nTG9hZGVyLmRpbUJhY2tncm91bmQoKTtcbiAgICB9KVxuXG59XG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvRG9Nb2RhbCB7XG4gICAgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50Jyk7XG4gICAgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gICAgbW9kYWxGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ25ldy10b2RvLWNvbnRhaW5lcicsICdoaWRkZW4nKTtcbiAgICAgICAgdGhpcy5tb2RhbENvbnRhaW5lci5hcHBlbmQodGhpcy5tb2RhbEhlYWRlciwgdGhpcy5tb2RhbEZvcm0pO1xuICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKHRoaXMubW9kYWxDb250YWluZXIpO1xuXG4gICAgfVxuXG4gICAgdG9nZ2xlTW9kYWxWaXNpYmlsaXR5KCkge1xuICAgICAgICB0aGlzLm1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIG9wZW5Nb2RhbChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMudG9nZ2xlTW9kYWxWaXNpYmlsaXR5KCk7XG4gICAgfVxuXG4gICAgY2xvc2VNb2RhbChlKSB7XG4gICAgICAgIGxldCByZXZpZXdOb2RlID0gZS50YXJnZXQ7XG4gICAgICAgIGxldCBleGl0Rm9ybSA9IHRydWU7XG4gICAgICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWJtaXQtdG9kby1idXR0b24nKSkge1xuICAgICAgICAgICAgd2hpbGUgKHJldmlld05vZGUgJiYgcmV2aWV3Tm9kZS5ub2RlTmFtZSAhPT0gJ0JPRFknKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJldmlld05vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXctdG9kby1jb250YWluZXInKSkge1xuICAgICAgICAgICAgICAgICAgICBleGl0Rm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV2aWV3Tm9kZSA9IHJldmlld05vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhpdEZvcm0gJiYgIXRoaXMubW9kYWxDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICAgICAgdGhpcy5tb2RhbENvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleGl0Rm9ybTtcbiAgICB9XG5cbiAgICBsb2FkTW9kYWxDb250ZW50KCkge1xuICAgICAgICB0aGlzLm1vZGFsRm9ybS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5tb2RhbEhlYWRlci50ZXh0Q29udGVudCA9ICdOZXcgVG8gRG8nO1xuXG4gICAgICAgIC8vdGl0bGVcbiAgICAgICAgY29uc3QgbmFtZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCB0YXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IHRhc2tOYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICB0YXNrTmFtZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndG9kb25hbWUnKTtcbiAgICAgICAgdGFza05hbWUuc2V0QXR0cmlidXRlKCdpZCcsICd0b2RvbmFtZScpO1xuICAgICAgICB0YXNrTmFtZUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3RvZG9uYW1lJyk7XG4gICAgICAgIHRhc2tOYW1lTGFiZWwudGV4dENvbnRlbnQgPSAnVGl0bGUnO1xuXG4gICAgICAgIG5hbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9kby1uYW1lLWNvbnRhaW5lcicpO1xuICAgICAgICBuYW1lQ29udGFpbmVyLmFwcGVuZCh0YXNrTmFtZUxhYmVsLCB0YXNrTmFtZSk7XG5cbiAgICAgICAgLy9EZXNjcmlwdGlvblxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndG9kb2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RvZG9kZXNjcmlwdGlvbicpO1xuICAgICAgICB0YXNrRGVzY3JpcHRpb25MYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICd0b2RvZGVzY3JpcHRpb24nKTtcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uTGFiZWwudGV4dENvbnRlbnQgPSAnRGVzY3JpcHRpb24nO1xuXG4gICAgICAgIGRlc2NyaXB0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGVzY3JpcHRpb24tY29udGFpbmVyJyk7XG4gICAgICAgIGRlc2NyaXB0aW9uQ29udGFpbmVyLmFwcGVuZCh0YXNrRGVzY3JpcHRpb25MYWJlbCwgdGFza0Rlc2NyaXB0aW9uKTtcblxuICAgICAgICAvL2RhdGVcbiAgICAgICAgY29uc3QgZGF0ZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCB0YXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IHRhc2tEYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGdldEN1cnJlbnREYXRlKCk7XG4gICAgICAgIHRhc2tEYXRlLnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJylcbiAgICAgICAgdGFza0RhdGUuc2V0QXR0cmlidXRlKCduYW1lJywgJ3RvZG9kYXRlJyk7XG4gICAgICAgIHRhc2tEYXRlLnNldEF0dHJpYnV0ZSgnaWQnLCAndG9kb2RhdGUnKTtcbiAgICAgICAgdGFza0RhdGUuc2V0QXR0cmlidXRlKCdtaW4nLCBgJHtjdXJyZW50RGF0ZS55ZWFyfS0ke2N1cnJlbnREYXRlLm1vbnRofS0ke2N1cnJlbnREYXRlLmRheX1gKVxuICAgICAgICB0YXNrRGF0ZUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3RvZG9kYXRlJyk7XG4gICAgICAgIHRhc2tEYXRlTGFiZWwudGV4dENvbnRlbnQgPSAnRHVlIERhdGUnO1xuXG4gICAgICAgIGRhdGVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9kby1kYXRlLWNvbnRhaW5lcicpO1xuICAgICAgICBkYXRlQ29udGFpbmVyLmFwcGVuZCh0YXNrRGF0ZUxhYmVsLCB0YXNrRGF0ZSk7XG5cbiAgICAgICAgLy90aW1lXG4gICAgICAgIGNvbnN0IHRpbWVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgdGFza1RpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjb25zdCB0YXNrVGltZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgdGFza1RpbWUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RpbWUnKVxuICAgICAgICB0YXNrVGltZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAndG9kb3RpbWUnKTtcbiAgICAgICAgdGFza1RpbWUuc2V0QXR0cmlidXRlKCdpZCcsICd0b2RvdGltZScpO1xuICAgICAgICB0YXNrVGltZUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3RvZG90aW1lJyk7XG4gICAgICAgIHRhc2tUaW1lTGFiZWwudGV4dENvbnRlbnQgPSAnVGltZSBEdWUnO1xuXG4gICAgICAgIHRpbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndG9kby1kYXRlLWNvbnRhaW5lcicpO1xuICAgICAgICB0aW1lQ29udGFpbmVyLmFwcGVuZCh0YXNrVGltZUxhYmVsLCB0YXNrVGltZSk7XG5cblxuICAgICAgICAvL2FkZHRvZG8gYnV0dG9uXG4gICAgICAgIGNvbnN0IHRvZG9TdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdG9kb1N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzdWJtaXQtdG9kby1idXR0b24nKVxuICAgICAgICB0b2RvU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ0FkZCBUb0RvJztcblxuXG5cbiAgICAgICAgdGhpcy5tb2RhbEZvcm0uYXBwZW5kKG5hbWVDb250YWluZXIsIGRlc2NyaXB0aW9uQ29udGFpbmVyLCBkYXRlQ29udGFpbmVyLCB0aW1lQ29udGFpbmVyLCB0b2RvU3VibWl0QnV0dG9uKTtcblxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudERhdGUoKSB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBkYXkgPSBkYXRlLmdldERhdGUoKTtcbiAgICBsZXQgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgIGlmIChtb250aC50b1N0cmluZy5sZW5ndGggPCAyKSBtb250aCA9ICcwJyArIG1vbnRoO1xuICAgIHJldHVybiB7IHllYXIsIG1vbnRoLCBkYXkgfVxufSJdLCJuYW1lcyI6WyJOYXZpZ2F0aW9uIiwiY29udGVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdmJhciIsImNyZWF0ZUVsZW1lbnQiLCJsb2dvIiwibWVudUJ1dHRvbkNvbnRhaW5lciIsIm1lbnUiLCJob21lIiwicHJvamVjdHMiLCJjb25zdHJ1Y3RvciIsImxvYWROYXYiLCJ0aGlzIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJhcHBlbmQiLCJsb2FkTWVudSIsIk1haW5Db250ZW50IiwibWFpbkNvbnRlbnRDb250YWluZXIiLCJ0b2Rvc2NvbnRhaW5lciIsImFkZFRvZG9CdXR0b24iLCJsb2FkTWFpbkNvbnRlbnQiLCJsb2FkVG9kb3MiLCJhcnIiLCJpbm5lckhUTUwiLCJ0b2RvIiwidG9kb0NvbnRhaW5lciIsInRvZG9UaXRsZSIsInRpdGxlIiwidG9kb0Rlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJ0b2RvRGF0ZSIsImR1ZURhdGUiLCJzbGljZSIsInRvZG9UaW1lIiwidGltZSIsImNvbXBsZXRlZCIsInNldEF0dHJpYnV0ZSIsImFkZENvbXBsZXRpb25CdXR0b25FdmVudCIsImNvbXBsZXRpb25CdXR0b24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjb250YWlucyIsInJlbW92ZSIsInRhcmdldCIsInBhcmVudE5vZGUiLCJUb0RvIiwibGFuZGluZ0xvYWRlciIsIm5hdk1lbnUiLCJtYWluQ29udGVudCIsImRpbUJhY2tncm91bmQiLCJzdHlsZSIsImZpbHRlciIsInVuRGltQmFja2dyb3VuZCIsInJlbW92ZUF0dHJpYnV0ZSIsInRvZG9tb2RhbCIsIm1vZGFsQ29udGFpbmVyIiwibW9kYWxIZWFkZXIiLCJtb2RhbEZvcm0iLCJ0b2dnbGVNb2RhbFZpc2liaWxpdHkiLCJ0b2dnbGUiLCJvcGVuTW9kYWwiLCJzdG9wUHJvcGFnYXRpb24iLCJjbG9zZU1vZGFsIiwicmV2aWV3Tm9kZSIsImV4aXRGb3JtIiwibm9kZU5hbWUiLCJsb2FkTW9kYWxDb250ZW50IiwibmFtZUNvbnRhaW5lciIsInRhc2tOYW1lIiwidGFza05hbWVMYWJlbCIsImRlc2NyaXB0aW9uQ29udGFpbmVyIiwidGFza0Rlc2NyaXB0aW9uIiwidGFza0Rlc2NyaXB0aW9uTGFiZWwiLCJkYXRlQ29udGFpbmVyIiwidGFza0RhdGUiLCJ0YXNrRGF0ZUxhYmVsIiwiY3VycmVudERhdGUiLCJkYXRlIiwiRGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsImRheSIsImdldERhdGUiLCJtb250aCIsImdldE1vbnRoIiwidG9TdHJpbmciLCJsZW5ndGgiLCJnZXRDdXJyZW50RGF0ZSIsInRpbWVDb250YWluZXIiLCJ0YXNrVGltZSIsInRhc2tUaW1lTGFiZWwiLCJ0b2RvU3VibWl0QnV0dG9uIiwidG9kb3NMaXN0IiwicHJldmVudERlZmF1bHQiLCJ2YWx1ZSIsInB1c2giLCJ3aW5kb3ciXSwic291cmNlUm9vdCI6IiJ9