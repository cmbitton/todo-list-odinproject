(()=>{"use strict";class t{content=document.querySelector("#content");navbar=document.createElement("div");logo=document.createElement("h3");menuButtonContainer=document.createElement("div");menu=document.createElement("div");home=document.createElement("p");projects=document.createElement("p");constructor(){}loadNav(){this.navbar.classList.add("navbar"),this.logo.classList.add("logo"),this.logo.textContent="Your Logo",this.navbar.append(this.logo),this.content.append(this.navbar)}loadMenu(){this.menu.classList.add("menu"),this.menuButtonContainer.classList.add("nav-button-container"),this.home.classList.add("home","navbutton","button-selected"),this.projects.classList.add("projects","navbutton"),this.home.textContent="Home",this.projects.textContent="Projects",this.menuButtonContainer.append(this.home,this.projects),this.menu.append(this.menuButtonContainer),this.content.append(this.menu)}}class e{content=document.querySelector("#content");mainContentContainer=document.createElement("div");addTodoButton=document.createElement("div");constructor(){}loadMainContent(){this.mainContentContainer.classList.add("main-content-container"),this.addTodoButton.classList.add("add-todo-button"),this.addTodoButton.textContent="New Todo +",this.mainContentContainer.append(this.addTodoButton),this.content.append(this.mainContentContainer)}}const n=new class{content=document.querySelector("#content");constructor(){this.navMenu=new t,this.mainContent=new e}dimBackground(){this.navMenu.menu.style.filter="brightness(50%)",this.navMenu.navbar.style.filter="brightness(50%)",this.mainContent.mainContentContainer.style.filter="brightness(50%)"}unDimBackground(){this.navMenu.menu.removeAttribute("style"),this.navMenu.navbar.removeAttribute("style"),this.mainContent.mainContentContainer.removeAttribute("style")}},o=new class{content=document.querySelector("#content");modalContainer=document.createElement("div");modalHeader=document.createElement("h2");modalForm=document.createElement("form");constructor(){this.modalContainer.classList.add("new-todo-container","hidden"),this.modalContainer.append(this.modalHeader,this.modalForm),this.content.append(this.modalContainer)}toggleModalVisibility(){this.modalContainer.classList.toggle("hidden")}openModal(t){t.stopPropagation(),this.toggleModalVisibility()}closeModal(t){let e=t.target,n=!0;for(;e&&"BODY"!==e.nodeName;){if(e.classList.contains("new-todo-container")){n=!1;break}e=e.parentNode}return n&&!this.modalContainer.classList.contains("hidden")&&this.modalContainer.classList.toggle("hidden"),n}loadModalContent(){this.modalForm.innerHTML="",this.modalHeader.textContent="New To Do";const t=document.createElement("div"),e=document.createElement("input"),n=document.createElement("label");e.setAttribute("name","todoname"),e.setAttribute("id","todoname"),n.setAttribute("for","todoname"),n.textContent="Title",t.classList.add("todo-name-container"),t.append(n,e);const o=document.createElement("div"),a=document.createElement("textarea"),i=document.createElement("label");a.setAttribute("name","tododescription"),a.setAttribute("id","tododescription"),i.setAttribute("for","tododescription"),i.textContent="Description",o.classList.add("todo-description-container"),o.append(i,a);const d=document.createElement("div"),s=document.createElement("input"),r=document.createElement("label"),c=function(){const t=new Date,e=t.getFullYear(),n=t.getDate();let o=t.getMonth()+1;return o.toString.length<2&&(o="0"+o),{year:e,month:o,day:n}}();s.setAttribute("type","date"),s.setAttribute("name","tododate"),s.setAttribute("id","tododate"),s.setAttribute("min",`${c.year}-${c.month}-${c.day}`),r.setAttribute("for","tododate"),r.textContent="Due Date",d.classList.add("todo-date-container"),d.append(r,s),this.modalForm.append(t,o,d)}};n.navMenu.loadNav(),n.navMenu.loadMenu(),n.mainContent.loadMainContent(),document.querySelector(".add-todo-button").addEventListener("click",(t=>{o.modalContainer.classList.contains("hidden")&&(o.openModal(t),o.loadModalContent(),n.dimBackground())})),window.addEventListener("click",(t=>{o.closeModal(t)&&n.unDimBackground()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0YsTUFDekIsQ0F2QjRCTSxHQUNwQmIsRUFBU0wsYUFBYSxPQUFRLFFBQzlCSyxFQUFTTCxhQUFhLE9BQVEsWUFDOUJLLEVBQVNMLGFBQWEsS0FBTSxZQUM1QkssRUFBU0wsYUFBYSxNQUFPLEdBQUdPLEVBQVlHLFFBQVFILEVBQVlPLFNBQVNQLEVBQVlLLE9BQ3JGTixFQUFjTixhQUFhLE1BQU8sWUFDbENNLEVBQWMxQyxZQUFjLFdBRTVCd0MsRUFBYzFDLFVBQVVDLElBQUksdUJBQzVCeUMsRUFBY3ZDLE9BQU95QyxFQUFlRCxHQUVwQzVDLEtBQUtxQixVQUFVakIsT0FBT2dDLEVBQWVJLEVBQXNCRyxFQUUvRCxHRDdFSmpDLEVBQWNDLFFBQVFaLFVBQ3RCVyxFQUFjQyxRQUFRTixXQUN0QkssRUFBY0UsWUFBWUgsa0JBRUpwQixTQUFTQyxjQUFjLG9CQUcvQm9FLGlCQUFpQixTQUFVakMsSUFDakNQLEVBQVVDLGVBQWVsQixVQUFVK0IsU0FBUyxZQUM1Q2QsRUFBVU0sVUFBVUMsR0FDcEJQLEVBQVVnQixtQkFDVnhCLEVBQWNHLGdCQUNsQixJQUtKOEMsT0FBT0QsaUJBQWlCLFNBQVVqQyxJQUNmUCxFQUFVUyxXQUFXRixJQUN4QmYsRUFBY00saUJBQWlCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qtb2RpbnByb2plY3QvLi9zcmMvbG9hZGhvbWUuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0LW9kaW5wcm9qZWN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC1vZGlucHJvamVjdC8uL3NyYy90b2RvbW9kYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFuZGluZ1BhZ2Uge1xuICAgIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpO1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5uYXZNZW51ID0gbmV3IE5hdmlnYXRpb247XG4gICAgICAgIHRoaXMubWFpbkNvbnRlbnQgPSBuZXcgTWFpbkNvbnRlbnQ7XG4gICAgfVxuXG4gICAgZGltQmFja2dyb3VuZCAoKSB7XG4gICAgICAgIHRoaXMubmF2TWVudS5tZW51LnN0eWxlLmZpbHRlciA9ICdicmlnaHRuZXNzKDUwJSknO1xuICAgICAgICB0aGlzLm5hdk1lbnUubmF2YmFyLnN0eWxlLmZpbHRlciA9ICdicmlnaHRuZXNzKDUwJSknO1xuICAgICAgICB0aGlzLm1haW5Db250ZW50Lm1haW5Db250ZW50Q29udGFpbmVyLnN0eWxlLmZpbHRlciA9ICdicmlnaHRuZXNzKDUwJSknO1xuICAgIH1cblxuICAgIHVuRGltQmFja2dyb3VuZCAoKSB7XG4gICAgICAgIHRoaXMubmF2TWVudS5tZW51LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgdGhpcy5uYXZNZW51Lm5hdmJhci5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIHRoaXMubWFpbkNvbnRlbnQubWFpbkNvbnRlbnRDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgIH1cblxufVxuXG5cbmNsYXNzIE5hdmlnYXRpb24ge1xuICAgIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpO1xuICAgIG5hdmJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIG1lbnVCdXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaG9tZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBwcm9qZWN0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG5cbiAgICB9XG5cbiAgICBsb2FkTmF2ICgpIHtcbiAgICAgICAgdGhpcy5uYXZiYXIuY2xhc3NMaXN0LmFkZCgnbmF2YmFyJyk7XG4gICAgICAgIHRoaXMubG9nby5jbGFzc0xpc3QuYWRkKCdsb2dvJyk7XG4gICAgICAgIHRoaXMubG9nby50ZXh0Q29udGVudCA9ICdZb3VyIExvZ28nO1xuICAgICAgICB0aGlzLm5hdmJhci5hcHBlbmQodGhpcy5sb2dvKTtcbiAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZCh0aGlzLm5hdmJhcik7XG5cbiAgICB9XG5cbiAgICBsb2FkTWVudSAoKSB7XG4gICAgICAgIHRoaXMubWVudS5jbGFzc0xpc3QuYWRkKCdtZW51Jyk7XG4gICAgICAgIHRoaXMubWVudUJ1dHRvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduYXYtYnV0dG9uLWNvbnRhaW5lcicpO1xuICAgICAgICB0aGlzLmhvbWUuY2xhc3NMaXN0LmFkZCgnaG9tZScsICduYXZidXR0b24nLCAnYnV0dG9uLXNlbGVjdGVkJyk7XG4gICAgICAgIHRoaXMucHJvamVjdHMuY2xhc3NMaXN0LmFkZCgncHJvamVjdHMnLCAnbmF2YnV0dG9uJyk7XG5cbiAgICAgICAgdGhpcy5ob21lLnRleHRDb250ZW50ID0gJ0hvbWUnO1xuICAgICAgICB0aGlzLnByb2plY3RzLnRleHRDb250ZW50ID0gJ1Byb2plY3RzJztcblxuICAgICAgICB0aGlzLm1lbnVCdXR0b25Db250YWluZXIuYXBwZW5kKHRoaXMuaG9tZSwgdGhpcy5wcm9qZWN0cylcbiAgICAgICAgdGhpcy5tZW51LmFwcGVuZCh0aGlzLm1lbnVCdXR0b25Db250YWluZXIpXG4gICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5tZW51KTtcbiAgICB9XG5cblxufVxuXG5jbGFzcyBNYWluQ29udGVudCB7XG4gICAgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50Jyk7XG4gICAgbWFpbkNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhZGRUb2RvQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3RydWN0b3IgKCkge1xuXG4gICAgfVxuXG4gICAgbG9hZE1haW5Db250ZW50ICgpIHtcbiAgICAgICAgdGhpcy5tYWluQ29udGVudENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYWluLWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMuYWRkVG9kb0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdhZGQtdG9kby1idXR0b24nKTtcblxuICAgICAgICB0aGlzLmFkZFRvZG9CdXR0b24udGV4dENvbnRlbnQgPSAnTmV3IFRvZG8gKydcblxuICAgICAgICB0aGlzLm1haW5Db250ZW50Q29udGFpbmVyLmFwcGVuZCh0aGlzLmFkZFRvZG9CdXR0b24pO1xuICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKHRoaXMubWFpbkNvbnRlbnRDb250YWluZXIpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBkZWZhdWx0IGFzIExhbmRpbmdQYWdlIH0gZnJvbSBcIi4vbG9hZGhvbWUuanNcIjtcbmltcG9ydCBUb0RvTW9kYWwgZnJvbSBcIi4vdG9kb21vZGFsLmpzXCI7XG5cbmNvbnN0IGxhbmRpbmdMb2FkZXIgPSBuZXcgTGFuZGluZ1BhZ2UoKTtcbmNvbnN0IHRvZG9tb2RhbCA9IG5ldyBUb0RvTW9kYWwoKTtcbmxhbmRpbmdMb2FkZXIubmF2TWVudS5sb2FkTmF2KCk7XG5sYW5kaW5nTG9hZGVyLm5hdk1lbnUubG9hZE1lbnUoKTtcbmxhbmRpbmdMb2FkZXIubWFpbkNvbnRlbnQubG9hZE1haW5Db250ZW50KCk7XG5cbmNvbnN0IG5ld1RvZG9CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRvZG8tYnV0dG9uJyk7XG5cbi8vb3BlbnMgdGhlIGFkZCBuZXcgdG9kbyBtb2RhbFxubmV3VG9kb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgaWYgKHRvZG9tb2RhbC5tb2RhbENvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIHRvZG9tb2RhbC5vcGVuTW9kYWwoZSk7XG4gICAgICAgIHRvZG9tb2RhbC5sb2FkTW9kYWxDb250ZW50KCk7XG4gICAgICAgIGxhbmRpbmdMb2FkZXIuZGltQmFja2dyb3VuZCgpO1xuICAgIH1cbn0pO1xuXG5cbi8vY2xvc2VzIGFkZCBuZXcgdG9kbyBtb2RhbFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBjb25zdCBjbG9zZWQgPSB0b2RvbW9kYWwuY2xvc2VNb2RhbChlKTtcbiAgICBpZiAoY2xvc2VkKSBsYW5kaW5nTG9hZGVyLnVuRGltQmFja2dyb3VuZCgpO1xufSkiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUb0RvTW9kYWwge1xuICAgIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpO1xuICAgIG1vZGFsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbW9kYWxIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIG1vZGFsRm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMubW9kYWxDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbmV3LXRvZG8tY29udGFpbmVyJywgJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLm1vZGFsQ29udGFpbmVyLmFwcGVuZCh0aGlzLm1vZGFsSGVhZGVyLCB0aGlzLm1vZGFsRm9ybSk7XG4gICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5tb2RhbENvbnRhaW5lcik7XG5cbiAgICB9XG5cbiAgICB0b2dnbGVNb2RhbFZpc2liaWxpdHkgKCkge1xuICAgICAgICB0aGlzLm1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIG9wZW5Nb2RhbChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMudG9nZ2xlTW9kYWxWaXNpYmlsaXR5KCk7XG4gICAgfVxuXG4gICAgY2xvc2VNb2RhbChlKSB7XG4gICAgICAgIGxldCByZXZpZXdOb2RlID0gZS50YXJnZXQ7XG4gICAgICAgIGxldCBleGl0Rm9ybSA9IHRydWU7XG4gICAgICAgIHdoaWxlIChyZXZpZXdOb2RlICYmIHJldmlld05vZGUubm9kZU5hbWUgIT09ICdCT0RZJykge1xuICAgICAgICAgIGlmIChyZXZpZXdOb2RlLmNsYXNzTGlzdC5jb250YWlucygnbmV3LXRvZG8tY29udGFpbmVyJykpIHtcbiAgICAgICAgICAgIGV4aXRGb3JtID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV2aWV3Tm9kZSA9IHJldmlld05vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhpdEZvcm0gJiYgIXRoaXMubW9kYWxDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkge1xuICAgICAgICAgICAgdGhpcy5tb2RhbENvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleGl0Rm9ybTtcbiAgICB9XG5cbiAgICBsb2FkTW9kYWxDb250ZW50ICgpIHtcbiAgICAgICAgdGhpcy5tb2RhbEZvcm0uaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMubW9kYWxIZWFkZXIudGV4dENvbnRlbnQgPSAnTmV3IFRvIERvJztcblxuICAgICAgICAvL3RpdGxlXG4gICAgICAgIGNvbnN0IG5hbWVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgdGFza05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjb25zdCB0YXNrTmFtZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgdGFza05hbWUuc2V0QXR0cmlidXRlKCduYW1lJywgJ3RvZG9uYW1lJyk7XG4gICAgICAgIHRhc2tOYW1lLnNldEF0dHJpYnV0ZSgnaWQnLCAndG9kb25hbWUnKTtcbiAgICAgICAgdGFza05hbWVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICd0b2RvbmFtZScpO1xuICAgICAgICB0YXNrTmFtZUxhYmVsLnRleHRDb250ZW50ID0gJ1RpdGxlJztcblxuICAgICAgICBuYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RvZG8tbmFtZS1jb250YWluZXInKTtcbiAgICAgICAgbmFtZUNvbnRhaW5lci5hcHBlbmQodGFza05hbWVMYWJlbCwgdGFza05hbWUpO1xuXG4gICAgICAgIC8vRGVzY3JpcHRpb25cbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICB0YXNrRGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCduYW1lJywgJ3RvZG9kZXNjcmlwdGlvbicpO1xuICAgICAgICB0YXNrRGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdpZCcsICd0b2RvZGVzY3JpcHRpb24nKTtcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAndG9kb2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbkxhYmVsLnRleHRDb250ZW50ID0gJ0Rlc2NyaXB0aW9uJztcblxuICAgICAgICBkZXNjcmlwdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0b2RvLWRlc2NyaXB0aW9uLWNvbnRhaW5lcicpO1xuICAgICAgICBkZXNjcmlwdGlvbkNvbnRhaW5lci5hcHBlbmQodGFza0Rlc2NyaXB0aW9uTGFiZWwsIHRhc2tEZXNjcmlwdGlvbik7XG5cbiAgICAgICAgLy9kYXRlXG4gICAgICAgIGNvbnN0IGRhdGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgdGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBjb25zdCB0YXNrRGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBnZXRDdXJyZW50RGF0ZSgpO1xuICAgICAgICB0YXNrRGF0ZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZGF0ZScpXG4gICAgICAgIHRhc2tEYXRlLnNldEF0dHJpYnV0ZSgnbmFtZScsICd0b2RvZGF0ZScpO1xuICAgICAgICB0YXNrRGF0ZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RvZG9kYXRlJyk7XG4gICAgICAgIHRhc2tEYXRlLnNldEF0dHJpYnV0ZSgnbWluJywgYCR7Y3VycmVudERhdGUueWVhcn0tJHtjdXJyZW50RGF0ZS5tb250aH0tJHtjdXJyZW50RGF0ZS5kYXl9YClcbiAgICAgICAgdGFza0RhdGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICd0b2RvZGF0ZScpO1xuICAgICAgICB0YXNrRGF0ZUxhYmVsLnRleHRDb250ZW50ID0gJ0R1ZSBEYXRlJztcblxuICAgICAgICBkYXRlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGF0ZS1jb250YWluZXInKTtcbiAgICAgICAgZGF0ZUNvbnRhaW5lci5hcHBlbmQodGFza0RhdGVMYWJlbCwgdGFza0RhdGUpO1xuXG4gICAgICAgIHRoaXMubW9kYWxGb3JtLmFwcGVuZChuYW1lQ29udGFpbmVyLCBkZXNjcmlwdGlvbkNvbnRhaW5lciwgZGF0ZUNvbnRhaW5lcik7XG5cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnREYXRlICgpIHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGxldCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgaWYobW9udGgudG9TdHJpbmcubGVuZ3RoIDwgMikgbW9udGggPSAnMCcgKyBtb250aDtcbiAgICByZXR1cm4ge3llYXIsIG1vbnRoLCBkYXl9XG59Il0sIm5hbWVzIjpbIk5hdmlnYXRpb24iLCJjb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2YmFyIiwiY3JlYXRlRWxlbWVudCIsImxvZ28iLCJtZW51QnV0dG9uQ29udGFpbmVyIiwibWVudSIsImhvbWUiLCJwcm9qZWN0cyIsImNvbnN0cnVjdG9yIiwibG9hZE5hdiIsInRoaXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsImxvYWRNZW51IiwiTWFpbkNvbnRlbnQiLCJtYWluQ29udGVudENvbnRhaW5lciIsImFkZFRvZG9CdXR0b24iLCJsb2FkTWFpbkNvbnRlbnQiLCJsYW5kaW5nTG9hZGVyIiwibmF2TWVudSIsIm1haW5Db250ZW50IiwiZGltQmFja2dyb3VuZCIsInN0eWxlIiwiZmlsdGVyIiwidW5EaW1CYWNrZ3JvdW5kIiwicmVtb3ZlQXR0cmlidXRlIiwidG9kb21vZGFsIiwibW9kYWxDb250YWluZXIiLCJtb2RhbEhlYWRlciIsIm1vZGFsRm9ybSIsInRvZ2dsZU1vZGFsVmlzaWJpbGl0eSIsInRvZ2dsZSIsIm9wZW5Nb2RhbCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJjbG9zZU1vZGFsIiwicmV2aWV3Tm9kZSIsInRhcmdldCIsImV4aXRGb3JtIiwibm9kZU5hbWUiLCJjb250YWlucyIsInBhcmVudE5vZGUiLCJsb2FkTW9kYWxDb250ZW50IiwiaW5uZXJIVE1MIiwibmFtZUNvbnRhaW5lciIsInRhc2tOYW1lIiwidGFza05hbWVMYWJlbCIsInNldEF0dHJpYnV0ZSIsImRlc2NyaXB0aW9uQ29udGFpbmVyIiwidGFza0Rlc2NyaXB0aW9uIiwidGFza0Rlc2NyaXB0aW9uTGFiZWwiLCJkYXRlQ29udGFpbmVyIiwidGFza0RhdGUiLCJ0YXNrRGF0ZUxhYmVsIiwiY3VycmVudERhdGUiLCJkYXRlIiwiRGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsImRheSIsImdldERhdGUiLCJtb250aCIsImdldE1vbnRoIiwidG9TdHJpbmciLCJsZW5ndGgiLCJnZXRDdXJyZW50RGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3aW5kb3ciXSwic291cmNlUm9vdCI6IiJ9